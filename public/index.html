<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <link href="styles.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <link href="./interface/styles/header.css" rel="stylesheet" />
    <link href="./interface/styles/filter_sort.css" rel="stylesheet" />
    <link href="./interface/styles/sort.css" rel="stylesheet" />
    <link href="./interface/styles/filter.css" rel="stylesheet" />
    <link href="./interface/styles/job_ads.css" rel="stylesheet" />
    <link href="./interface/styles/statistics.css" rel="stylesheet" />
    


    <title>Workbuster</title>
  </head>
  <body>
    <div id="mainContainer" class="container">
      <header>Hej Peter!</header>

      <!-- ================================================================ -->
      <!--                      FILTER & SORTERING                          -->
      <!-- ================================================================ -->
      <div class="filterAndSortContainer" id="filtercontainer">
        <div class="adOngoingAndFinished">
          <div class="adOnGoing"><h3>8</h3>
            <p>Pågående</p>
          </div>
          <div class="adFinished"><h3>10</h3>
            <p>Avslutade</p>
          </div>
          <div class="adAll"><h3>18</h3>
            <p>Alla</p>
          </div>
        </div>
        <div class="filterAndSortIcons" id="filterAndSortIcons">
          <div class="filterIcon"  >
          <h3 id="filterText">FILTER</h3>
          <i class="fas fa-filter"  @click="hideElement"></i>
          </div>
          <div class="sortIcon" id="sortIcon">
          <h3 id="sortText">SORTERING</h3>
          <i class="fas fa-sort-amount-down"   @click="hideSort"></i>
          </div>
        </div>
      </div>

      <!-- ================================================================ -->
      <!--                            FILTERS                               -->
      <!-- ================================================================ -->
      <div class="filters" id="adFilterBindingdMethods"  v-show="!filterContainerHidden" >
        <h3>Filter <h3>
        <div class="adFiltersHeaderContainer" >
          <ul class="searchTitle">
            <li>JOBBTITEL</li>
            <li>PLATS</li>
            <li>JOBBKATEGORI</li>
            <li>FÖRETAG</li>
          </ul>
        </div>
        <div>
            <div class="adFiltersSearchFieldContainer" >
                <div>
                  <input type="text"  value="" placeholder="Sök.." v-on:change="getFilterSearch"/>
                </div>
                <div>
                  <select  id="adLocationListId" class="adFilterSelect" v-on:change="getFilterLocation">
                    <option value="">Välj plats...</option>
                    <option v-for="ad in adLocationList">{{ ad }}</option>
                  </select>
                </div>
                <div>
                  <select  id="adJobCategoryId" class="adFilterSelect" v-on:change="getFilterJobCategory">
                    <option value="">Välj jobbkategori...</option>
                    <option v-for="ad in adJobCategoryList">{{ ad }}</option>
                  </select>
                </div>
                <div>
                  <select id="adCompanyId" class="adFilterSelect" v-on:change="getFilterCompany">
                    <option value="">Välj företag...</option>
                    <option v-for="ad in adCompaniesList">{{ ad }}</option>
                  </select>
                </div>
                
            </div>
          </div>
        </div>
      <!-- ================================================================ -->
      <!--                              SORT                                -->
      <!-- ================================================================ -->

        <div class="adSortContainer" id="adSortContainerId" v-show="!sortContainerHidden" >
          <h3>Sortering</h3>
          <div class="adSortButtons">
            <div class="adSortButton"><p>Jobbtitel</p></div>
            <div class="adSortButton"><p>Företagsnamn</p></div>
            <div class="adSortButton"><p>Plats</p></div>
            <div class="adSortButton"><p>Kategori</p></div>
            <div class="adSortButton"><p>Antal visningar</p></div>
            <div class="adSortButton"><p>Antal Klick</p></div>
            <div class="adSortButton"><p>Antal sökningar</p></div>
            <div class="adSortButton"><p>Antal dagar kvar</p></div>
          </div>

        </div>
      <!-- ================================================================ -->
      <!--                              ADS                                 -->
      <!-- ================================================================ -->
      <div id="ads">
        <div class="ad"
        v-show=" (filterSearch === '' || filterSearch === ad.title) 
              && (filterLocation === '' || filterLocation === ad.city)
              && (filterJobCategory === '' || filterJobCategory === ad.job_category) 
              && (filterCompany === '' || filterCompany === ad.company)" 
        v-for="ad in adsList" >
          <div>
            <h3 id="adCompany">{{ ad.company }}</h3>
            <h4>{{ ad.title }}</h4>
            <p class="adJobDetail">
              <span id="adCity">{{ ad.city }}{{ ifJobCategory(ad) }}</span>

              <span id="adJobCategory">{{ ad.job_category }}</span>
            </p>
          </div>
          <p class="adTimeLeft">
            {{ calcDaysLeft(ad.last_application_timestamp) }}
          </p>
          <!-- ====================== AD STATISCICS ======================= -->
          <div>
            <!-- ================ AD STATISCICS HEADERS =================== -->
            <div class="adStatisticsHeaderContainer">
              <div>
                ANSÖKNINGAR
              </div>
              <div>
                VISNINGAR
              </div>
              <div>
                KLICK
              </div>
            </div>
            <!-- ================ AD STATISCICS NUMBERS =================== -->
            <div class="adStatisticsNumberContainer">
              <div>
                {{ ad.applies }}
              </div>
              <div>
                {{ ad.views }}
              </div>
              <div>
                {{ ad.clicks }}
              </div>
            </div>
          </div>
          <!-- END STATISTICS-->
        </div>
        <!-- END AD -->
      </div>
      <!-- END ADS-->
      <!-- ================================================================ -->
      <!--                            STATISTICS                            -->
      <!-- ================================================================ -->
      <div class="statistics" id="chart">
        Statistik
        <!-- <div id="chart"> -->
          <bar-chart></bar-chart>
        
      </div>
    </div>

    <script
      src="https://code.jquery.com/jquery-3.4.0.js"
      integrity="sha256-DYZMCC8HTC+QDr5QNaIcfR7VSPtcISykd+6eSmBW5qo="
      crossorigin="anonymous"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
   <script src="https://unpkg.com/vue-chartjs/dist/vue-chartjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
    <!-- <script src="app.js"></script> -->
    <script src="./interface/job_ads/ads.js"></script>
    <script src="./interface/chart.js"></script>

  </body>
</html>